import{r as p,j as e,R as me}from"./index-CV03ll9a.js";const he=l=>{var v,$;const c={url:"",method:"GET",headers:{},body:null},o=l.replace(/\\\n/g," ").replace(/\\\r\n/g," ").trim(),m=o.match(/(?:["'])(https?:\/\/[^"']+)(?:["'])|(https?:\/\/[^\s]+)/i);m&&(c.url=(m[1]||m[2]).split(" ")[0].replace(/["']/g,""));const u=o.match(/(?:-X|--request)\s+["']?(\w+)["']?/i);u?c.method=u[1].toUpperCase():(o.includes("-d ")||o.includes("--data")||o.includes("--data-raw"))&&(c.method="POST");const f=/(?:-H|--header)\s+["']?([^"']+)["']?/g;let i;for(;(i=f.exec(o))!==null;){const k=i[1],w=k.indexOf(":");if(w>-1){const T=k.substring(0,w).trim(),g=k.substring(w+1).trim();c.headers[T]=g}}const d=/(?:-d|--data|--data-raw|--data-binary|--data-urlencode)\s+(?:["'](\{[\s\S]+?\}|[^"']+)["']|(\{[\s\S]+?\}|[^"'\s]+))/,b=o.match(d);return b&&(c.body=b[1]||b[2],Object.keys(c.headers).some(k=>k.toLowerCase()==="content-type")||((v=c.body)!=null&&v.trim().startsWith("{")||($=c.body)!=null&&$.trim().startsWith("["))&&(c.headers["Content-Type"]="application/json")),c},O=(l,c)=>{if(!l)return"";let o=l;return Object.keys(c).sort((u,f)=>f.length-u.length).forEach(u=>{const f=String(c[u]);[new RegExp(`{{\\s*${u}\\s*}}`,"gi"),new RegExp(`{\\s*${u}\\s*}`,"gi"),new RegExp(`:${u}(?![a-zA-Z0-9_])`,"g")].forEach(d=>{o=o.replace(d,f)})}),o},re=l=>{const c=[];let o=[],m="",u=!1;for(let i=0;i<l.length;i++){const d=l[i],b=l[i+1];u?d==='"'&&b==='"'?(m+='"',i++):d==='"'?u=!1:m+=d:d==='"'?u=!0:d===","?(o.push(m.trim()),m=""):d===`
`||d==="\r"?(o.push(m.trim()),o.some(v=>v!=="")&&c.push(o),o=[],m="",d==="\r"&&b===`
`&&i++):m+=d}if((m||o.length>0)&&(o.push(m.trim()),c.push(o)),c.length<2)return[];const f=c[0].map(i=>i.replace(/^"|"$/g,"").trim());return c.slice(1).map(i=>{const d={};return f.forEach((b,v)=>{d[b]=i[v]||""}),d})},fe=(l,c)=>{if(l.length===0)return;const o=Object.keys(l[0]),m=[o.join(","),...l.map(d=>o.map(b=>`"${String(d[b]||"").replace(/"/g,'""')}"`).join(","))].join(`
`),u=new Blob([m],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a"),i=URL.createObjectURL(u);f.setAttribute("href",i),f.setAttribute("download",c),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f)};var N=(l=>(l.PENDING="PENDING",l.RUNNING="RUNNING",l.PASSED="PASSED",l.FAILED="FAILED",l.ERROR="ERROR",l))(N||{}),le=(l=>(l.CONTAINS="CONTAINS",l.EXACT="EXACT",l.STARTS_WITH="STARTS_WITH",l))(le||{});const P=["user-agent","referer","origin","host","cookie","sec-fetch-dest","sec-fetch-mode","sec-fetch-site","content-length","connection"],J="horoscope_qa_v3";class be extends me.Component{constructor(c){super(c),this.state={hasError:!1,error:null}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,o){console.error("ErrorBoundary caught an error",c,o)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:e.jsxs("div",{className:"max-w-3xl w-full bg-rose-900/90 text-white p-8 rounded-2xl shadow-xl",children:[e.jsx("h2",{className:"text-lg font-bold mb-2",children:"An error occurred"}),e.jsx("p",{className:"mb-4",children:"The app encountered an unexpected error while rendering. Please check the console for details."}),e.jsx("pre",{className:"text-xs whitespace-pre-wrap bg-black/20 p-3 rounded",children:String(this.state.error)})]})}):this.props.children}}const Ne=()=>{const[l,c]=p.useState(""),[o,m]=p.useState([]),[u,f]=p.useState([]),[i,d]=p.useState([]),[b,v]=p.useState(!1),[$,k]=p.useState(0),[w,T]=p.useState("description"),[g,B]=p.useState(null),[L,M]=p.useState("bypass"),[D,q]=p.useState(""),[ne,X]=p.useState(!1),[E,W]=p.useState({jsonPath:"prediction",strategy:le.CONTAINS}),[C,F]=p.useState([]),[U,z]=p.useState(""),[Q,Y]=p.useState(""),[G,K]=p.useState(null),[Z,I]=p.useState(null),ce=/^[A-Za-z0-9-]+$/,ee=s=>!s||!s.trim()?"Header key is required":ce.test(s)?P.includes(s.toLowerCase())?"This header is forbidden in browsers":null:"Invalid header key (letters, numbers and hyphen only)",oe=()=>{const s=U.trim(),t=Q,n=ee(s);if(n){K(n);return}F(r=>{const x=r.findIndex(a=>a.key.toLowerCase()===s.toLowerCase());if(x!==-1){const a=[...r];return a[x]={key:s,value:t},a}return[...r,{key:s,value:t}]}),z(""),Y(""),K(null)},ie=s=>{const t=[...C];t.splice(s,1),F(t)},de=(s,t)=>{const n=s.toLowerCase();if(P.includes(n)){I("Cannot add a forbidden header"),setTimeout(()=>I(null),2e3);return}F(r=>{const x=r.findIndex(a=>a.key.toLowerCase()===n);if(x!==-1){const a=[...r];return a[x]={key:s,value:t},a}return[...r,{key:s,value:t}]}),I(`${s} preset added`),setTimeout(()=>I(null),2e3)};p.useEffect(()=>{const s=localStorage.getItem(J);if(s)try{const t=JSON.parse(s);t.testCases&&d(t.testCases),t.curlString&&c(t.curlString),t.expectedField&&T(t.expectedField),t.compConfig&&W(t.compConfig),t.customHeaders&&F(t.customHeaders)}catch(t){console.error("Restore error",t)}},[]),p.useEffect(()=>{localStorage.setItem(J,JSON.stringify({testCases:i,curlString:l,expectedField:w,compConfig:E,customHeaders:C}))},[i,l,w,E,C]);const se=(s,t)=>{if(s==null)return"";if(!t||!t.trim())return typeof s=="object"?JSON.stringify(s,null,2):String(s);const n=t.trim().replace(/\[(\d+)\]/g,".$1").replace(/^\./,"").split(".").filter(a=>a!=="");let r=s,x=!0;Array.isArray(r)&&n[0]!=="0"&&isNaN(Number(n[0]))&&(r=r[0]);for(const a of n){if(r==null){x=!1;break}if(typeof r=="object"&&r[a]!==void 0)r=r[a];else if(Array.isArray(r)&&!isNaN(Number(a))&&r[Number(a)]!==void 0)r=r[Number(a)];else{x=!1;break}}return x&&r!==void 0&&r!==null?typeof r=="object"?JSON.stringify(r,null,2):String(r).trim():typeof s=="string"?s:""},te=p.useCallback((s,t)=>{if(s.length===0)return;const n=s.map((r,x)=>{let a="";const h=(t.length>0?t[x]:r)||{};return h[w]?a=h[w]:h.description?a=h.description:a=Object.values(h)[0]||"",{id:`tc-${x}-${Date.now()}`,params:r,expectedResult:a,status:N.PENDING}});d(n)},[w]),xe=async()=>{const s=he(l);if(!s.url||i.length===0){alert("Missing requirements.");return}v(!0),k(0);const t=[...i],n=3,r=2e3;C.length>0&&L==="bypass"&&(I("Custom headers detected: switching to Direct mode"),M("direct"));for(let x=0;x<t.length;x++){const a=t[x];a.status=N.RUNNING,d([...t]);try{const h=O(s.url,a.params);a.finalUrl=h;let R="",H=0,V=0,ae=!1;for(;V<n&&!ae;){V++;try{if(L==="bypass"){const j={};Object.entries(s.headers).forEach(([y,ue])=>{P.includes(y.toLowerCase())||(j[y]=O(ue,a.params))}),C.forEach(y=>{y.key&&!P.includes(y.key.toLowerCase())&&(j[y.key]=O(y.value,a.params))}),a.finalHeaders=j;const A=await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(h)}`);R=(await A.json()).contents,H=A.status}else{const j={};Object.entries(s.headers).forEach(([S,y])=>{P.includes(S.toLowerCase())||(j[S]=O(y,a.params))}),C.forEach(S=>{S.key&&!P.includes(S.key.toLowerCase())&&(j[S.key]=O(S.value,a.params))}),a.finalHeaders={...j},console.debug("Request for",a.id,{url:h,headers:a.finalHeaders});const A=await fetch(h,{method:s.method,headers:j});R=await A.text(),H=A.status}H===200&&R&&R.trim()!==""?ae=!0:V<n&&await new Promise(j=>setTimeout(j,r))}catch{V<n&&await new Promise(A=>setTimeout(A,r))}}a.statusCode=H,a.actualResponse=R;let _="";try{const j=JSON.parse(R);_=se(j,E.jsonPath)}catch{_=R}a.comparedValue=_,a.status=_.toLowerCase().includes(a.expectedResult.toLowerCase())?N.PASSED:N.FAILED}catch(h){a.status=N.ERROR,a.actualResponse=`Error: ${h.message}`}k(Math.round((x+1)/t.length*100)),d([...t])}v(!1)},pe=()=>{if(!g||!D)return;const s=[...i],t=s.findIndex(x=>x.id===g.id);if(t===-1)return;const n=s[t];n.actualResponse=D,n.statusCode=200;let r="";try{const x=JSON.parse(D);r=se(x,E.jsonPath)}catch{r=D}n.comparedValue=r,n.status=r.toLowerCase().includes(n.expectedResult.toLowerCase())?N.PASSED:N.FAILED,d(s),B({...n}),q(""),X(!0),setTimeout(()=>X(!1),2e3)};return e.jsx(be,{children:e.jsxs("div",{className:"min-h-screen bg-[#0F172A] text-slate-100 flex flex-col font-sans",children:[e.jsxs("header",{className:"border-b border-slate-800 p-6 flex flex-col md:flex-row justify-between items-center bg-[#1E293B] shadow-2xl gap-6 sticky top-0 z-[60]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl shadow-indigo-500/20 shadow-xl",children:e.jsx("i",{className:"fas fa-stethoscope text-xl"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-black tracking-tighter uppercase flex items-center gap-2",children:["Horoscope QA Suite",e.jsx("span",{className:"text-[10px] bg-slate-900 border border-indigo-500/30 px-2 py-0.5 rounded text-indigo-400",children:"PRO V3"})]}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:"Accuracy & Validation Engine"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-center",children:[e.jsxs("div",{className:"bg-slate-900/50 p-1.5 rounded-2xl flex border border-slate-700",children:[e.jsx("button",{onClick:()=>M("direct"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${L==="direct"?"bg-indigo-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:"Direct"}),e.jsx("button",{onClick:()=>M("bypass"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${L==="bypass"?"bg-indigo-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:"Proxy"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{d([]),localStorage.removeItem(J)},className:"bg-slate-800 hover:bg-rose-600/20 hover:text-rose-400 border border-slate-700 p-3 rounded-2xl transition-all",title:"Reset All",children:e.jsx("i",{className:"fas fa-trash-can"})}),e.jsxs("button",{onClick:()=>fe(i,"qa_report.csv"),disabled:i.length===0,className:"bg-emerald-600 hover:bg-emerald-500 px-6 py-3 rounded-2xl font-black shadow-lg disabled:opacity-30 text-[10px] uppercase flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-file-export"})," Report"]}),e.jsxs("button",{onClick:xe,disabled:b||!l,className:"bg-indigo-600 hover:bg-indigo-500 px-8 py-3 rounded-2xl font-black shadow-lg disabled:opacity-30 transition-all uppercase text-[10px] flex items-center gap-3",children:[b?e.jsx("i",{className:"fas fa-spinner fa-spin"}):e.jsx("i",{className:"fas fa-vial"}),b?"Validating...":"Start Automation"]})]})]})]}),e.jsxs("main",{className:"p-8 space-y-8 max-w-[1800px] mx-auto w-full",children:[e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[10px] font-black text-slate-500 uppercase px-2 tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-code text-indigo-500"})," 1. API Template"]}),e.jsx("textarea",{value:l,onChange:s=>c(s.target.value),className:"w-full h-64 bg-[#1E293B] border border-slate-800 p-6 rounded-[2rem] font-mono text-[11px] text-emerald-400 focus:border-indigo-500 outline-none shadow-inner",placeholder:"Paste Postman cURL..."}),e.jsxs("div",{className:"mt-4 bg-[#111827] border border-slate-800 p-4 rounded-xl",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("label",{className:"text-[9px] font-black text-indigo-400 uppercase mb-2 block",children:"Custom Headers"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>de("x-api-key","iVf8NMjXY7Jmb8pjfKG75gumhnjVKvmasH8cEEt2"),className:"text-[10px] bg-emerald-600 px-3 py-1 rounded-xl font-black",children:"Add x-api-key"})})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{value:U,onChange:s=>{z(s.target.value),K(ee(s.target.value))},placeholder:"Header-Name (e.g. X-Custom-Header)",className:"w-1/4 bg-slate-900 border border-slate-700 p-2 rounded-xl text-[11px]"}),e.jsx("input",{value:Q,onChange:s=>Y(s.target.value),placeholder:"Value or {param}",className:"flex-1 bg-slate-900 border border-slate-700 p-2 rounded-xl text-[11px]"}),e.jsx("button",{onClick:oe,disabled:!!G||!U.trim(),className:"bg-indigo-600 px-4 py-2 rounded-xl text-[11px] font-black disabled:opacity-30",children:"Add"})]}),G&&e.jsx("div",{className:"text-[10px] text-rose-400 mt-2",children:G}),e.jsxs("div",{className:"mt-3 space-y-2",children:[C.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-[11px] font-bold",children:[s.key,":"]}),e.jsx("div",{className:"text-[11px] text-slate-400 truncate",children:s.value}),e.jsx("button",{onClick:()=>ie(t),className:"ml-auto text-rose-400 text-[10px] font-black",children:"Remove"})]},t)),e.jsx("p",{className:"text-[9px] text-slate-500 italic",children:"Note: Forbidden headers (user-agent, origin, host, cookie, etc.) are not allowed."}),Z&&e.jsx("div",{className:"text-[10px] text-emerald-400 mt-2",children:Z})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[10px] font-black text-slate-500 uppercase px-2 tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-table-list text-indigo-500"})," 2. Scenarios CSV"]}),e.jsxs("div",{className:"h-64 border-4 border-dashed border-slate-800 rounded-[2rem] flex flex-col items-center justify-center p-8 bg-[#1E293B]/30 hover:bg-[#1E293B] transition-all relative group",children:[e.jsx("input",{type:"file",accept:".csv",onChange:s=>{var r;const t=(r=s.target.files)==null?void 0:r[0];if(!t)return;const n=new FileReader;n.onload=x=>{var h;const a=re((h=x.target)==null?void 0:h.result);m(a),te(a,u)},n.readAsText(t)},className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx("i",{className:"fas fa-file-csv text-3xl text-slate-700 mb-4 group-hover:text-indigo-500 transition-colors"}),e.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500",children:o.length>0?`${o.length} ROWS LOADED`:"UPLOAD INPUTS"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[10px] font-black text-slate-500 uppercase px-2 tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-file-circle-check text-indigo-500"})," 3. Baseline CSV"]}),e.jsxs("div",{className:"h-64 border-4 border-dashed border-slate-800 rounded-[2rem] flex flex-col items-center justify-center p-8 bg-[#1E293B]/30 hover:bg-[#1E293B] transition-all relative group",children:[e.jsx("input",{type:"file",accept:".csv",onChange:s=>{var r;const t=(r=s.target.files)==null?void 0:r[0];if(!t)return;const n=new FileReader;n.onload=x=>{var h;const a=re((h=x.target)==null?void 0:h.result);f(a),te(o,a)},n.readAsText(t)},className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx("i",{className:"fas fa-bullseye text-3xl text-slate-700 mb-4 group-hover:text-emerald-500 transition-colors"}),e.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500",children:u.length>0?`${u.length} BASELINES LOADED`:"UPLOAD EXPECTED"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[10px] font-black text-slate-500 uppercase px-2 tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-sliders-h text-indigo-500"})," 4. Field Mapping"]}),e.jsxs("div",{className:"h-64 bg-[#1E293B] border border-slate-800 p-8 rounded-[2rem] space-y-4 flex flex-col justify-center shadow-xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[9px] font-black text-indigo-400 uppercase mb-1 block",children:"JSON Prediction Path"}),e.jsx("input",{value:E.jsonPath,onChange:s=>W({...E,jsonPath:s.target.value}),className:"w-full bg-slate-900 border border-slate-700 p-2.5 rounded-xl text-[11px] font-bold text-emerald-400",placeholder:"prediction"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[9px] font-black text-emerald-400 uppercase mb-1 block",children:"CSV Description Column"}),e.jsx("input",{value:w,onChange:s=>T(s.target.value),className:"w-full bg-slate-900 border border-slate-700 p-2.5 rounded-xl text-[11px] font-bold",placeholder:"description"})]}),e.jsx("p",{className:"text-[8px] text-slate-500 font-bold uppercase leading-tight italic",children:"Matched data will be used for Pass/Fail status"})]})]})]}),i.length>0&&e.jsxs("div",{className:"bg-[#1E293B] rounded-[2.5rem] shadow-2xl border border-slate-800 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-900/30",children:[e.jsxs("h2",{className:"font-black uppercase tracking-tight text-sm flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-list-check text-indigo-500"}),"Validation Queue"]}),e.jsxs("div",{className:"text-[10px] font-black flex gap-6 text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})," PASSED: ",i.filter(s=>s.status===N.PASSED).length]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500"})," FAILED: ",i.filter(s=>s.status===N.FAILED).length]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-900/50",children:[e.jsx("th",{className:"p-5 px-8 text-[9px] font-black uppercase text-slate-500",children:"#"}),e.jsx("th",{className:"p-5 px-8 text-[9px] font-black uppercase text-slate-500",children:"Scenario Data"}),e.jsx("th",{className:"p-5 px-8 text-[9px] font-black uppercase text-slate-500",children:"Expectation (CSV)"}),e.jsx("th",{className:"p-5 px-8 text-[9px] font-black uppercase text-slate-500 text-center",children:"Status"}),e.jsx("th",{className:"p-5 px-8 text-[9px] font-black uppercase text-slate-500 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-800",children:i.map((s,t)=>e.jsxs("tr",{className:"hover:bg-slate-800/20 transition-all",children:[e.jsx("td",{className:"p-5 px-8 font-bold text-slate-600 text-[11px]",children:t+1}),e.jsx("td",{className:"p-5 px-8",children:e.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(s.params).slice(0,2).map(([n,r])=>e.jsxs("span",{className:"bg-slate-900/50 px-2.5 py-1 rounded-lg text-[9px] border border-slate-700 font-bold uppercase",children:[e.jsxs("span",{className:"text-slate-500",children:[n,":"]})," ",String(r)]},n))})}),e.jsx("td",{className:"p-5 px-8 max-w-xs overflow-hidden",children:e.jsx("p",{className:"text-[10px] text-slate-400 font-bold line-clamp-2 italic leading-relaxed",children:s.expectedResult||"---"})}),e.jsx("td",{className:"p-5 px-8 text-center",children:e.jsx("span",{className:`px-4 py-1 rounded-full text-[9px] font-black uppercase border ${s.status===N.PASSED?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20 shadow-[0_0_15px_rgba(16,185,129,0.1)]":s.status===N.FAILED?"bg-rose-500/10 text-rose-500 border-rose-500/20 shadow-[0_0_15px_rgba(244,63,94,0.1)]":s.status===N.RUNNING?"bg-indigo-500/10 text-indigo-500 border-indigo-500/20":"bg-slate-800 text-slate-500 border-slate-700"}`,children:s.status})}),e.jsx("td",{className:"p-5 px-8 text-center",children:e.jsx("button",{onClick:()=>B(s),className:"bg-slate-800 hover:bg-indigo-600 px-6 py-2 rounded-xl text-[10px] font-black uppercase transition-all shadow-lg active:scale-95",children:"Verify"})})]},s.id))})]})})]})]}),g&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-md flex items-center justify-center p-6 md:p-12",children:e.jsxs("div",{className:"bg-[#1E293B] w-full max-w-6xl h-[90vh] rounded-[3rem] shadow-2xl flex flex-col border border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-slate-900 border-b border-slate-800 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Validation Trace"}),e.jsxs("span",{className:"text-[10px] font-bold bg-indigo-500/10 text-indigo-400 px-3 py-1 rounded-full border border-indigo-500/20",children:["CASE #",i.findIndex(s=>s.id===g.id)+1]})]}),e.jsx("button",{onClick:()=>B(null),className:"w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-rose-500 transition-all shadow-lg",children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"p-10 overflow-y-auto space-y-10 flex-1",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-file-invoice"})," Baseline (From CSV: ",w,")"]}),e.jsx("div",{className:"bg-slate-900 p-6 rounded-[2rem] border border-slate-800 h-48 text-[11px] font-bold text-slate-300 whitespace-pre-wrap leading-relaxed shadow-inner overflow-auto custom-scrollbar",children:g.expectedResult||"No description found in CSV."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-magnifying-glass"})," Extracted (From API: ",E.jsonPath,")"]}),e.jsx("div",{className:`bg-slate-900 p-6 rounded-[2rem] border h-48 text-[11px] font-bold whitespace-pre-wrap leading-relaxed shadow-inner overflow-auto custom-scrollbar ${g.status===N.PASSED?"border-emerald-500/40 text-emerald-400":"border-rose-500/40 text-rose-400"}`,children:g.comparedValue||e.jsx("span",{className:"italic opacity-50",children:"Empty response. Use Postman Sync below."})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Full Server Response"}),e.jsxs("span",{className:"text-[9px] font-bold bg-slate-900 px-3 py-1 rounded text-slate-500 border border-slate-800 uppercase tracking-widest",children:["Status: ",g.statusCode||"N/A"]})]}),e.jsx("div",{className:"bg-[#0F172A] p-6 rounded-[2rem] font-mono text-[10px] h-48 overflow-auto border border-slate-800 text-emerald-500/80 whitespace-pre-wrap shadow-inner custom-scrollbar",children:g.actualResponse||"No data captured yet."}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h5",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Request URL"}),e.jsx("div",{className:"bg-slate-900 p-4 rounded-lg border border-slate-800 text-[11px] font-mono break-words",children:g.finalUrl||"N/A"}),e.jsx("h5",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-4 mb-2",children:"Request Headers"}),e.jsx("div",{className:"bg-slate-900 p-4 rounded-lg border border-slate-800 text-[11px] whitespace-pre-wrap font-mono",children:g.finalHeaders?Object.entries(g.finalHeaders).map(([s,t])=>e.jsxs("div",{children:[e.jsxs("span",{className:"text-slate-500",children:[s,":"]})," ",t]},s)):e.jsx("div",{className:"italic text-slate-500",children:"No headers recorded for this case."})})]})]}),e.jsxs("div",{className:"bg-indigo-500/5 p-8 rounded-[3rem] border border-indigo-500/10 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h5",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-sync-alt"})," Manual Postman Sync"]}),ne&&e.jsxs("span",{className:"text-[10px] font-black text-emerald-500 uppercase animate-bounce",children:[e.jsx("i",{className:"fas fa-check mr-1"})," Saved & Validated!"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("textarea",{value:D,onChange:s=>q(s.target.value),placeholder:"Paste the JSON response from Postman for this specific scenario...",className:"flex-1 bg-slate-900 border border-slate-800 p-5 rounded-[1.5rem] text-[10px] font-mono h-24 focus:border-indigo-500 outline-none shadow-lg transition-all"}),e.jsxs("button",{onClick:pe,className:"bg-indigo-600 hover:bg-indigo-500 px-10 py-5 rounded-[1.5rem] font-black text-[10px] uppercase shadow-[0_10px_30px_rgba(79,70,229,0.3)] transition-all flex items-center justify-center gap-3 active:scale-95",children:[e.jsx("i",{className:"fas fa-save"})," Sync Result"]})]})]})]})]})}),e.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #0F172A; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #475569; }
        .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
      `})]})})};export{Ne as default};
