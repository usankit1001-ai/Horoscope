import{r as p,j as e,R as ke}from"./index-X-G16dp4.js";const Se=n=>{var y,U;const c={url:"",method:"GET",headers:{},body:null},i=n.replace(/\\\n/g," ").replace(/\\\r\n/g," ").trim(),m=i.match(/(?:["'])(https?:\/\/[^"']+)(?:["'])|(https?:\/\/[^\s]+)/i);m&&(c.url=(m[1]||m[2]).split(" ")[0].replace(/["']/g,""));const u=i.match(/(?:-X|--request)\s+["']?(\w+)["']?/i);u?c.method=u[1].toUpperCase():(i.includes("-d ")||i.includes("--data")||i.includes("--data-raw"))&&(c.method="POST");const f=/(?:-H|--header)\s+["']?([^"']+)["']?/g;let d;for(;(d=f.exec(i))!==null;){const E=d[1],w=E.indexOf(":");if(w>-1){const F=E.substring(0,w).trim(),N=E.substring(w+1).trim();c.headers[F]=N}}const x=/(?:-d|--data|--data-raw|--data-binary|--data-urlencode)\s+(?:["'](\{[\s\S]+?\}|[^"']+)["']|(\{[\s\S]+?\}|[^"'\s]+))/,g=i.match(x);return g&&(c.body=g[1]||g[2],Object.keys(c.headers).some(E=>E.toLowerCase()==="content-type")||((y=c.body)!=null&&y.trim().startsWith("{")||(U=c.body)!=null&&U.trim().startsWith("["))&&(c.headers["Content-Type"]="application/json")),c},O=(n,c)=>{if(!n)return"";let i=n;return Object.keys(c).sort((u,f)=>f.length-u.length).forEach(u=>{const f=String(c[u]);[new RegExp(`{{\\s*${u}\\s*}}`,"gi"),new RegExp(`{\\s*${u}\\s*}`,"gi"),new RegExp(`:${u}(?![a-zA-Z0-9_])`,"g")].forEach(x=>{i=i.replace(x,f)})}),i},ue=n=>{const c=[];let i=[],m="",u=!1;for(let d=0;d<n.length;d++){const x=n[d],g=n[d+1];u?x==='"'&&g==='"'?(m+='"',d++):x==='"'?u=!1:m+=x:x==='"'?u=!0:x===","?(i.push(m.trim()),m=""):x===`
`||x==="\r"?(i.push(m.trim()),i.some(y=>y!=="")&&c.push(i),i=[],m="",x==="\r"&&g===`
`&&d++):m+=x}if((m||i.length>0)&&(i.push(m.trim()),c.push(i)),c.length<2)return[];const f=c[0].map(d=>d.replace(/^"|"$/g,"").trim());return c.slice(1).map(d=>{const x={};return f.forEach((g,y)=>{x[g]=d[y]||""}),x})},Ee=(n,c)=>{if(n.length===0)return;const i=Object.keys(n[0]),m=[i.join(","),...n.map(x=>i.map(g=>`"${String(x[g]||"").replace(/"/g,'""')}"`).join(","))].join(`
`),u=new Blob([m],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a"),d=URL.createObjectURL(u);f.setAttribute("href",d),f.setAttribute("download",c),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f)};var j=(n=>(n.PENDING="PENDING",n.RUNNING="RUNNING",n.PASSED="PASSED",n.FAILED="FAILED",n.ERROR="ERROR",n))(j||{}),me=(n=>(n.CONTAINS="CONTAINS",n.EXACT="EXACT",n.STARTS_WITH="STARTS_WITH",n))(me||{});const D=["user-agent","referer","origin","host","cookie","sec-fetch-dest","sec-fetch-mode","sec-fetch-site","content-length","connection"],z="horoscope_qa_v3";class Ce extends ke.Component{constructor(c){super(c),this.state={hasError:!1,error:null}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,i){console.error("ErrorBoundary caught an error",c,i)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-8",children:e.jsxs("div",{className:"max-w-3xl w-full bg-rose-900/90 text-white p-8 rounded-2xl shadow-xl",children:[e.jsx("h2",{className:"text-lg font-bold mb-2",children:"An error occurred"}),e.jsx("p",{className:"mb-4",children:"The app encountered an unexpected error while rendering. Please check the console for details."}),e.jsx("pre",{className:"text-xs whitespace-pre-wrap bg-black/20 p-3 rounded",children:String(this.state.error)})]})}):this.props.children}}const Re=()=>{const[n,c]=p.useState(""),[i,m]=p.useState([]),[u,f]=p.useState([]),[d,x]=p.useState([]),[g,y]=p.useState(!1),[U,E]=p.useState(0),[w,F]=p.useState("description"),[N,B]=p.useState(null),[H,K]=p.useState("bypass"),[I,Y]=p.useState(""),[he,Q]=p.useState(!1),[A,Z]=p.useState({jsonPath:"prediction",strategy:me.CONTAINS}),[v,V]=p.useState([]),[G,ee]=p.useState(""),[se,te]=p.useState(""),[J,q]=p.useState(null),[ae,T]=p.useState(null),[re,R]=p.useState(null),[le,X]=p.useState(!1),[ne,_]=p.useState(!1),[ce,W]=p.useState(null),fe=/^[A-Za-z0-9-]+$/,oe=s=>!s||!s.trim()?"Header key is required":fe.test(s)?D.includes(s.toLowerCase())?"This header is forbidden in browsers":null:"Invalid header key (letters, numbers and hyphen only)",be=()=>{const s=G.trim(),t=se,l=oe(s);if(l){q(l);return}V(a=>{const o=a.findIndex(r=>r.key.toLowerCase()===s.toLowerCase());if(o!==-1){const r=[...a];return r[o]={key:s,value:t},r}return[...a,{key:s,value:t}]}),ee(""),te(""),q(null)},ge=s=>{const t=[...v];t.splice(s,1),V(t)},ie=(s,t)=>{const l=s.toLowerCase();if(D.includes(l)){T("Cannot add a forbidden header"),setTimeout(()=>T(null),2e3);return}V(a=>{const o=a.findIndex(r=>r.key.toLowerCase()===l);if(o!==-1){const r=[...a];return r[o]={key:s,value:t},r}return[...a,{key:s,value:t}]}),T(`${s} preset added`),setTimeout(()=>T(null),2e3)},Ne=async()=>{if(X(!0),R(null),_(!1),W(null),H==="bypass"){R("Warning: Proxy mode may not forward custom headers. Switch to Direct to test headers."),X(!1);return}try{const s="https://stagingapi.astroapi.com/api/v1/prediction/monthly?language=eng&month=1&year=2026&report=LOVE&zodiac=ARIES",t={"Content-Type":"application/json"};v.forEach(o=>{o.key&&!D.includes(o.key.toLowerCase())&&(t[o.key]=o.value)});const l=await fetch(s,{method:"GET",headers:t}),a=await l.text();l.status===200&&a&&!String(a).toLowerCase().includes("please set custom header")?(R("Header diagnostic: Server accepted headers (OK)."),_(!1)):String(a).toLowerCase().includes("please set custom header")?(R('Header diagnostic: Server responded: "Please set custom header" â€” missing/incorrect header.'),_(!0),W(a)):R(`Header diagnostic: unexpected response (status=${l.status}).`)}catch(s){R(`Header diagnostic failed: ${s.message}`)}X(!1),setTimeout(()=>R(null),7e3)},je=s=>{ie("x-api-key",s)};p.useEffect(()=>{const s=localStorage.getItem(z);if(s)try{const t=JSON.parse(s);t.testCases&&x(t.testCases),t.curlString&&c(t.curlString),t.expectedField&&F(t.expectedField),t.compConfig&&Z(t.compConfig),t.customHeaders&&V(t.customHeaders)}catch(t){console.error("Restore error",t)}},[]),p.useEffect(()=>{localStorage.setItem(z,JSON.stringify({testCases:d,curlString:n,expectedField:w,compConfig:A,customHeaders:v}))},[d,n,w,A,v]);const de=(s,t)=>{if(s==null)return"";if(!t||!t.trim())return typeof s=="object"?JSON.stringify(s,null,2):String(s);const l=t.trim().replace(/\[(\d+)\]/g,".$1").replace(/^\./,"").split(".").filter(r=>r!=="");let a=s,o=!0;Array.isArray(a)&&l[0]!=="0"&&isNaN(Number(l[0]))&&(a=a[0]);for(const r of l){if(a==null){o=!1;break}if(typeof a=="object"&&a[r]!==void 0)a=a[r];else if(Array.isArray(a)&&!isNaN(Number(r))&&a[Number(r)]!==void 0)a=a[Number(r)];else{o=!1;break}}return o&&a!==void 0&&a!==null?typeof a=="object"?JSON.stringify(a,null,2):String(a).trim():typeof s=="string"?s:""},xe=p.useCallback((s,t)=>{if(s.length===0)return;const l=s.map((a,o)=>{let r="";const h=(t.length>0?t[o]:a)||{};return h[w]?r=h[w]:h.description?r=h.description:r=Object.values(h)[0]||"",{id:`tc-${o}-${Date.now()}`,params:a,expectedResult:r,status:j.PENDING}});x(l)},[w]),we=async()=>{const s=Se(n);if(!s.url||d.length===0){alert("Missing requirements.");return}y(!0),E(0);const t=[...d],l=3,a=2e3;v.length>0&&H==="bypass"&&(T("Custom headers detected: switching to Direct mode"),K("direct"));for(let o=0;o<t.length;o++){const r=t[o];r.status=j.RUNNING,x([...t]);try{const h=O(s.url,r.params);r.finalUrl=h;let k="",M=0,L=0,pe=!1;for(;L<l&&!pe;){L++;try{if(H==="bypass"){const b={};Object.entries(s.headers).forEach(([S,ve])=>{D.includes(S.toLowerCase())||(b[S]=O(ve,r.params))}),v.forEach(S=>{S.key&&!D.includes(S.key.toLowerCase())&&(b[S.key]=O(S.value,r.params))}),r.finalHeaders=b;const P=await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(h)}`);k=(await P.json()).contents,M=P.status}else{const b={};Object.entries(s.headers).forEach(([C,S])=>{D.includes(C.toLowerCase())||(b[C]=O(S,r.params))}),v.forEach(C=>{C.key&&!D.includes(C.key.toLowerCase())&&(b[C.key]=O(C.value,r.params))}),r.finalHeaders={...b},console.debug("Request for",r.id,{url:h,headers:r.finalHeaders});const P=await fetch(h,{method:s.method,headers:b});k=await P.text(),M=P.status}M===200&&k&&k.trim()!==""?String(k).toLowerCase().includes("please set custom header")?(_(!0),W(k),T("Server indicates a custom header is required. Use Test Headers to diagnose or add x-api-key preset."),L<l&&await new Promise(b=>setTimeout(b,a))):pe=!0:L<l&&await new Promise(b=>setTimeout(b,a))}catch{L<l&&await new Promise(P=>setTimeout(P,a))}}r.statusCode=M,r.actualResponse=k;let $="";try{const b=JSON.parse(k);$=de(b,A.jsonPath)}catch{$=k}r.comparedValue=$,r.status=$.toLowerCase().includes(r.expectedResult.toLowerCase())?j.PASSED:j.FAILED}catch(h){r.status=j.ERROR,r.actualResponse=`Error: ${h.message}`}E(Math.round((o+1)/t.length*100)),x([...t])}y(!1)},ye=()=>{if(!N||!I)return;const s=[...d],t=s.findIndex(o=>o.id===N.id);if(t===-1)return;const l=s[t];l.actualResponse=I,l.statusCode=200;let a="";try{const o=JSON.parse(I);a=de(o,A.jsonPath)}catch{a=I}l.comparedValue=a,l.status=a.toLowerCase().includes(l.expectedResult.toLowerCase())?j.PASSED:j.FAILED,x(s),B({...l}),Y(""),Q(!0),setTimeout(()=>Q(!1),2e3)};return e.jsx(Ce,{children:e.jsxs("div",{className:"min-h-screen bg-[#0F172A] text-slate-100 flex flex-col font-sans",children:[e.jsxs("header",{className:"border-b border-slate-800 p-6 flex flex-col md:flex-row justify-between items-center bg-[#1E293B] shadow-2xl gap-6 sticky top-0 z-[60]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl shadow-indigo-500/20 shadow-xl",children:e.jsx("i",{className:"fas fa-stethoscope text-xl"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-black tracking-tighter uppercase flex items-center gap-2",children:["Horoscope QA Suite",e.jsx("span",{className:"text-[10px] bg-slate-900 border border-indigo-500/30 px-2 py-0.5 rounded text-indigo-400",children:"PRO V3"})]}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:"Accuracy & Validation Engine"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-center",children:[e.jsxs("div",{className:"bg-slate-900/50 p-1.5 rounded-2xl flex border border-slate-700",children:[e.jsx("button",{onClick:()=>K("direct"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${H==="direct"?"bg-indigo-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:"Direct"}),e.jsx("button",{onClick:()=>K("bypass"),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase transition-all ${H==="bypass"?"bg-indigo-600 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:"Proxy"})]}),H==="bypass"&&v.length>0&&e.jsxs("div",{className:"w-full bg-amber-600/10 border-l-4 border-amber-400 text-amber-300 text-[11px] px-4 py-2 rounded-lg mt-2",children:[e.jsx("strong",{className:"font-bold",children:"Warning:"})," Proxy mode may not forward custom headers. Switch to ",e.jsx("span",{className:"font-black",children:"Direct"})," to include them."]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{x([]),localStorage.removeItem(z)},className:"bg-slate-800 hover:bg-rose-600/20 hover:text-rose-400 border border-slate-700 p-3 rounded-2xl transition-all",title:"Reset All",children:e.jsx("i",{className:"fas fa-trash-can"})}),e.jsxs("button",{onClick:()=>Ee(d,"qa_report.csv"),disabled:d.length===0,className:"bg-emerald-600 hover:bg-emerald-500 px-6 py-3 rounded-2xl font-black shadow-lg disabled:opacity-30 text-[10px] uppercase flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-file-export"})," Report"]}),e.jsxs("button",{onClick:we,disabled:g||!n,className:"bg-indigo-600 hover:bg-indigo-500 px-8 py-3 rounded-2xl font-black shadow-lg disabled:opacity-30 transition-all uppercase text-[10px] flex items-center gap-3",children:[g?e.jsx("i",{className:"fas fa-spinner fa-spin"}):e.jsx("i",{className:"fas fa-vial"}),g?"Validating...":"Start Automation"]})]})]})]}),e.jsxs("main",{className:"p-8 space-y-8 max-w-[1800px] mx-auto w-full",children:[e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[10px] font-black text-slate-500 uppercase px-2 tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-code text-indigo-500"})," 1. API Template"]}),e.jsx("textarea",{value:n,onChange:s=>c(s.target.value),className:"w-full h-64 bg-[#1E293B] border border-slate-800 p-6 rounded-[2rem] font-mono text-[11px] text-emerald-400 focus:border-indigo-500 outline-none shadow-inner",placeholder:"Paste Postman cURL..."}),e.jsxs("div",{className:"mt-4 bg-[#111827] border border-slate-800 p-4 rounded-xl",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("label",{className:"text-[9px] font-black text-indigo-400 uppercase mb-2 block",children:"Custom Headers"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>ie("x-api-key","iVf8NMjXY7Jmb8pjfKG75gumhnjVKvmasH8cEEt2"),className:"text-[10px] bg-emerald-600 px-3 py-1 rounded-xl font-black",children:"Add x-api-key"}),e.jsx("button",{onClick:Ne,disabled:le,className:"text-[10px] bg-sky-600 px-3 py-1 rounded-xl font-black",children:le?"Testing...":"Test Headers"})]})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{value:G,onChange:s=>{ee(s.target.value),q(oe(s.target.value))},placeholder:"Header-Name (e.g. X-Custom-Header)",className:"w-1/4 bg-slate-900 border border-slate-700 p-2 rounded-xl text-[11px]"}),e.jsx("input",{value:se,onChange:s=>te(s.target.value),placeholder:"Value or {param}",className:"flex-1 bg-slate-900 border border-slate-700 p-2 rounded-xl text-[11px]"}),e.jsx("button",{onClick:be,disabled:!!J||!G.trim(),className:"bg-indigo-600 px-4 py-2 rounded-xl text-[11px] font-black disabled:opacity-30",children:"Add"})]}),J&&e.jsx("div",{className:"text-[10px] text-rose-400 mt-2",children:J}),e.jsxs("div",{className:"mt-3 space-y-2",children:[v.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-[11px] font-bold",children:[s.key,":"]}),e.jsx("div",{className:"text-[11px] text-slate-400 truncate",children:s.value}),e.jsx("button",{onClick:()=>ge(t),className:"ml-auto text-rose-400 text-[10px] font-black",children:"Remove"})]},t)),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("p",{className:"text-[9px] text-slate-500 italic",children:"Note: Forbidden headers (user-agent, origin, host, cookie, etc.) are not allowed."})}),ae&&e.jsx("div",{className:"text-[10px] text-emerald-400 mt-2",children:ae}),re&&e.jsxs("div",{className:`mt-2 p-3 rounded ${ne?"bg-rose-700/80 text-white":"bg-emerald-700/10 text-emerald-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"text-[11px] font-bold",children:re}),ne&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>je("iVf8NMjXY7Jmb8pjfKG75gumhnjVKvmasH8cEEt2"),className:"bg-emerald-600 px-3 py-1 rounded-xl text-[10px] font-black",children:"Add x-api-key"})})]}),ce&&e.jsx("pre",{className:"mt-2 text-xs whitespace-pre-wrap bg-black/10 p-2 rounded",children:String(ce)})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[10px] font-black text-slate-500 uppercase px-2 tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-table-list text-indigo-500"})," 2. Scenarios CSV"]}),e.jsxs("div",{className:"h-64 border-4 border-dashed border-slate-800 rounded-[2rem] flex flex-col items-center justify-center p-8 bg-[#1E293B]/30 hover:bg-[#1E293B] transition-all relative group",children:[e.jsx("input",{type:"file",accept:".csv",onChange:s=>{var a;const t=(a=s.target.files)==null?void 0:a[0];if(!t)return;const l=new FileReader;l.onload=o=>{var h;const r=ue((h=o.target)==null?void 0:h.result);m(r),xe(r,u)},l.readAsText(t)},className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx("i",{className:"fas fa-file-csv text-3xl text-slate-700 mb-4 group-hover:text-indigo-500 transition-colors"}),e.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500",children:i.length>0?`${i.length} ROWS LOADED`:"UPLOAD INPUTS"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[10px] font-black text-slate-500 uppercase px-2 tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-file-circle-check text-indigo-500"})," 3. Baseline CSV"]}),e.jsxs("div",{className:"h-64 border-4 border-dashed border-slate-800 rounded-[2rem] flex flex-col items-center justify-center p-8 bg-[#1E293B]/30 hover:bg-[#1E293B] transition-all relative group",children:[e.jsx("input",{type:"file",accept:".csv",onChange:s=>{var a;const t=(a=s.target.files)==null?void 0:a[0];if(!t)return;const l=new FileReader;l.onload=o=>{var h;const r=ue((h=o.target)==null?void 0:h.result);f(r),xe(i,r)},l.readAsText(t)},className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx("i",{className:"fas fa-bullseye text-3xl text-slate-700 mb-4 group-hover:text-emerald-500 transition-colors"}),e.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500",children:u.length>0?`${u.length} BASELINES LOADED`:"UPLOAD EXPECTED"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-[10px] font-black text-slate-500 uppercase px-2 tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-sliders-h text-indigo-500"})," 4. Field Mapping"]}),e.jsxs("div",{className:"h-64 bg-[#1E293B] border border-slate-800 p-8 rounded-[2rem] space-y-4 flex flex-col justify-center shadow-xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[9px] font-black text-indigo-400 uppercase mb-1 block",children:"JSON Prediction Path"}),e.jsx("input",{value:A.jsonPath,onChange:s=>Z({...A,jsonPath:s.target.value}),className:"w-full bg-slate-900 border border-slate-700 p-2.5 rounded-xl text-[11px] font-bold text-emerald-400",placeholder:"prediction"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[9px] font-black text-emerald-400 uppercase mb-1 block",children:"CSV Description Column"}),e.jsx("input",{value:w,onChange:s=>F(s.target.value),className:"w-full bg-slate-900 border border-slate-700 p-2.5 rounded-xl text-[11px] font-bold",placeholder:"description"})]}),e.jsx("p",{className:"text-[8px] text-slate-500 font-bold uppercase leading-tight italic",children:"Matched data will be used for Pass/Fail status"})]})]})]}),d.length>0&&e.jsxs("div",{className:"bg-[#1E293B] rounded-[2.5rem] shadow-2xl border border-slate-800 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-900/30",children:[e.jsxs("h2",{className:"font-black uppercase tracking-tight text-sm flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-list-check text-indigo-500"}),"Validation Queue"]}),e.jsxs("div",{className:"text-[10px] font-black flex gap-6 text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})," PASSED: ",d.filter(s=>s.status===j.PASSED).length]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500"})," FAILED: ",d.filter(s=>s.status===j.FAILED).length]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-900/50",children:[e.jsx("th",{className:"p-5 px-8 text-[9px] font-black uppercase text-slate-500",children:"#"}),e.jsx("th",{className:"p-5 px-8 text-[9px] font-black uppercase text-slate-500",children:"Scenario Data"}),e.jsx("th",{className:"p-5 px-8 text-[9px] font-black uppercase text-slate-500",children:"Expectation (CSV)"}),e.jsx("th",{className:"p-5 px-8 text-[9px] font-black uppercase text-slate-500 text-center",children:"Status"}),e.jsx("th",{className:"p-5 px-8 text-[9px] font-black uppercase text-slate-500 text-center",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-800",children:d.map((s,t)=>e.jsxs("tr",{className:"hover:bg-slate-800/20 transition-all",children:[e.jsx("td",{className:"p-5 px-8 font-bold text-slate-600 text-[11px]",children:t+1}),e.jsx("td",{className:"p-5 px-8",children:e.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(s.params).slice(0,2).map(([l,a])=>e.jsxs("span",{className:"bg-slate-900/50 px-2.5 py-1 rounded-lg text-[9px] border border-slate-700 font-bold uppercase",children:[e.jsxs("span",{className:"text-slate-500",children:[l,":"]})," ",String(a)]},l))})}),e.jsx("td",{className:"p-5 px-8 max-w-xs overflow-hidden",children:e.jsx("p",{className:"text-[10px] text-slate-400 font-bold line-clamp-2 italic leading-relaxed",children:s.expectedResult||"---"})}),e.jsx("td",{className:"p-5 px-8 text-center",children:e.jsx("span",{className:`px-4 py-1 rounded-full text-[9px] font-black uppercase border ${s.status===j.PASSED?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20 shadow-[0_0_15px_rgba(16,185,129,0.1)]":s.status===j.FAILED?"bg-rose-500/10 text-rose-500 border-rose-500/20 shadow-[0_0_15px_rgba(244,63,94,0.1)]":s.status===j.RUNNING?"bg-indigo-500/10 text-indigo-500 border-indigo-500/20":"bg-slate-800 text-slate-500 border-slate-700"}`,children:s.status})}),e.jsx("td",{className:"p-5 px-8 text-center",children:e.jsx("button",{onClick:()=>B(s),className:"bg-slate-800 hover:bg-indigo-600 px-6 py-2 rounded-xl text-[10px] font-black uppercase transition-all shadow-lg active:scale-95",children:"Verify"})})]},s.id))})]})})]})]}),N&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-md flex items-center justify-center p-6 md:p-12",children:e.jsxs("div",{className:"bg-[#1E293B] w-full max-w-6xl h-[90vh] rounded-[3rem] shadow-2xl flex flex-col border border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-slate-900 border-b border-slate-800 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Validation Trace"}),e.jsxs("span",{className:"text-[10px] font-bold bg-indigo-500/10 text-indigo-400 px-3 py-1 rounded-full border border-indigo-500/20",children:["CASE #",d.findIndex(s=>s.id===N.id)+1]})]}),e.jsx("button",{onClick:()=>B(null),className:"w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center hover:bg-rose-500 transition-all shadow-lg",children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"p-10 overflow-y-auto space-y-10 flex-1",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-file-invoice"})," Baseline (From CSV: ",w,")"]}),e.jsx("div",{className:"bg-slate-900 p-6 rounded-[2rem] border border-slate-800 h-48 text-[11px] font-bold text-slate-300 whitespace-pre-wrap leading-relaxed shadow-inner overflow-auto custom-scrollbar",children:N.expectedResult||"No description found in CSV."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-magnifying-glass"})," Extracted (From API: ",A.jsonPath,")"]}),e.jsx("div",{className:`bg-slate-900 p-6 rounded-[2rem] border h-48 text-[11px] font-bold whitespace-pre-wrap leading-relaxed shadow-inner overflow-auto custom-scrollbar ${N.status===j.PASSED?"border-emerald-500/40 text-emerald-400":"border-rose-500/40 text-rose-400"}`,children:N.comparedValue||e.jsx("span",{className:"italic opacity-50",children:"Empty response. Use Postman Sync below."})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Full Server Response"}),e.jsxs("span",{className:"text-[9px] font-bold bg-slate-900 px-3 py-1 rounded text-slate-500 border border-slate-800 uppercase tracking-widest",children:["Status: ",N.statusCode||"N/A"]})]}),e.jsx("div",{className:"bg-[#0F172A] p-6 rounded-[2rem] font-mono text-[10px] h-48 overflow-auto border border-slate-800 text-emerald-500/80 whitespace-pre-wrap shadow-inner custom-scrollbar",children:N.actualResponse||"No data captured yet."}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h5",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Request URL"}),e.jsx("div",{className:"bg-slate-900 p-4 rounded-lg border border-slate-800 text-[11px] font-mono break-words",children:N.finalUrl||"N/A"}),e.jsx("h5",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mt-4 mb-2",children:"Request Headers"}),e.jsx("div",{className:"bg-slate-900 p-4 rounded-lg border border-slate-800 text-[11px] whitespace-pre-wrap font-mono",children:N.finalHeaders?Object.entries(N.finalHeaders).map(([s,t])=>e.jsxs("div",{children:[e.jsxs("span",{className:"text-slate-500",children:[s,":"]})," ",t]},s)):e.jsx("div",{className:"italic text-slate-500",children:"No headers recorded for this case."})})]})]}),e.jsxs("div",{className:"bg-indigo-500/5 p-8 rounded-[3rem] border border-indigo-500/10 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h5",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-sync-alt"})," Manual Postman Sync"]}),he&&e.jsxs("span",{className:"text-[10px] font-black text-emerald-500 uppercase animate-bounce",children:[e.jsx("i",{className:"fas fa-check mr-1"})," Saved & Validated!"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("textarea",{value:I,onChange:s=>Y(s.target.value),placeholder:"Paste the JSON response from Postman for this specific scenario...",className:"flex-1 bg-slate-900 border border-slate-800 p-5 rounded-[1.5rem] text-[10px] font-mono h-24 focus:border-indigo-500 outline-none shadow-lg transition-all"}),e.jsxs("button",{onClick:ye,className:"bg-indigo-600 hover:bg-indigo-500 px-10 py-5 rounded-[1.5rem] font-black text-[10px] uppercase shadow-[0_10px_30px_rgba(79,70,229,0.3)] transition-all flex items-center justify-center gap-3 active:scale-95",children:[e.jsx("i",{className:"fas fa-save"})," Sync Result"]})]})]})]})]})}),e.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #0F172A; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #475569; }
        .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
      `})]})})};export{Re as default};
